<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Portal da Transparência</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h2>Cadastro de Serviços</h2>
    <form id="cadastroForm">
        <input type="text" id="nome" placeholder="Nome" required>
        <input type="text" id="servico" placeholder="Serviço Prestado" required>
        <input type="number" id="valor" placeholder="Valor" required>
        <button type="submit">Cadastrar</button>
    </form>
    
    

    <!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>


    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDVoWWfkfqn95KrUeyAgdwjt4Y8kXXrgy4",
                    authDomain: "carneiro-manso.firebaseapp.com",
                    projectId: "carneiro-manso",
                    storageBucket: "carneiro-manso.firebasestorage.app",
                    messagingSenderId: "660697393282",
                    appId: "1:660697393282:web:24f8808a9b2c7f72626c9b",
                    measurementId: "G-MJ51VVL8RJ"
        };

        // Inicializar Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        document.getElementById('cadastroForm').addEventListener('submit', function(e) {
        e.preventDefault();
    
        let nome = document.getElementById('nome').value;
        let servico = document.getElementById('servico').value;
        let valor = parseFloat(document.getElementById('valor').value);
    
        db.collection("cadastroForm").add({
            nome: nome,
            servico: servico,
            valor: valor,
            timestamp: firebase.firestore.FieldValue.serverTimestamp() // Adiciona um timestamp
        })
        .then(() => {
            alert("Cadastro realizado com sucesso!");
            document.getElementById('cadastroForm').reset();
        })
        .catch(error => {
            console.error("Erro ao cadastrar:", error);
        });
    });


    </script>



</body>
</html>
